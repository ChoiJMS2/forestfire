# 프로젝트 진행 사항

## 5/23
Today complete list
1. 공공데이터 API(기상청 / 산림청) 및 데이터 일부 수집
  - 산불발생통계(대국민포털) - XML
  - 산 정보 조회 - XML
  - 지상(종관, ASOS) 시간자료 JSON + XML
  - 지상(종관, ASOS) 일 자료 JSON + XML
  - 산불위험예보정보 JSON + XML
2. 논문 및 참고자료 수집
  - Paulo Cortez, Aníbal de Jesus Raimundo Morais. 2007: A data mining approach to predict forest fires using meteorological data, Associação Portuguesa para a Inteligência Artificial (APPIA)
  - 이찬중, 임무영, 이요한. 2023: 머신러닝을 활용한 산불발생예측모형 개발과 과제. J. Korean Soc. Hazard Mitig 23(2), 29-39. https://doi.org/10.9798/KOSHAM.2023.23.2.29
  - 안승환, 2016: 기상 데이터를 이용한 산불 피해규모의 예측방법 연구, 통계청논문 우수논문집
  - 원명수, 장근창, 윤석희, 2018: 봄철과 가을철의 기상에 의한 전국 통합 산불발생확률 모형 개발, 한국농림기상학회지 제 20권 제4호(2018) p348-356 https://doi.org/10.5532/KJAFM.2018.20.4.348
3. Streamlit 대시보드 초안 구성
  - https://choijms2-forestfire-app-5npx95.streamlit.app/
4. PPT 목차 초안 구성
5. 기상요인 설정 방법 확립 (진행중)
  - 변수 : 평균 강수량, 최소 상대습도, 최고 기온, 최고 풍속

To do list
1. 공공데이터 API (기상청 / 산림청) 데이터 추가 수집
2. 분석 방향성 방향성 확립 및 데이터별 변수 설정
  - 기상청, 산림청
  - 모델선정
  - 산불에 영향가는 변수 선정
  - 피처 엔지니어링
  - 산불 지수와 관련된 것을 변수로 상관분석 및 지도시각화
3. 연구방법 정리
  - 시계열 기상자료
  - 산불유무 : 더미변수 처리 (종속변수) -> 발생 1 / 비발생 0
  - 산불영향이 있는 기상요소를 (독립변수)
    ex) 독립변수 : 기상변수(평균기온, 최고기온, 최저기온, 평균상대습도, 최소상대습도, 실효
  - 습도**, 평균풍속, 최대풍속, 순간최대풍속사용모델 :
     로지스틱회귀모형 stepwise regression/다중공선성제거
  - 후진선택법
    - 독립변수 : 인근 기상관측소의 시간대별 기상자료
    - 종속변수 : 산불 발생 유무 (발생 1/ 비발생 0)
  - 산불발생확률모형 : 기상변화에 따라 산불발생가능성을 추정할 수 있는 로지스틱 회귀모형 적용
  - 모형평가(모형예측검토) : 시계열 기상인자를 추정모형에 대입 하여 사후검정
  - 사후검정으로 예측된 산불발생예측치를 이용하여 기상에 의한 산불위험지수를 설정
  - 등급화 : 산불위험지수 발생활률모형에 대입하여 얻어진 최종치를 10% 구간별백분위수 산정추가 생각 해볼 것
    + 기상관측소 위치 정보를 통해서 지도시각화 하면서 기후정보를 확인
    + 시계열 기상인자 추정모형
    + 미풍에도 산림과 대기가 건조하다면 충분한 발화 조건이 될 수 있다
    + 강풍이라면 발생후 대형 산불로 발생할 가능성이 있다

5/24
Today complete list
논문 분석을 통한 변수 탐색
데이터 수집 :
1. 기상청 데이터 : 기상 + 기상 관측소 위치
2. 산림청 : 산불 발생 위치도 + 산불 피해 현황
데이터 정리(ERD(테이블 간의 관계를 설명해주는 다이어그램) , 데이터 정의서 작성) - 범모형이 해줄 예정

To do list
EDA 시나리오 :
1. 기상 데이터가 일정 수치 미만인 날이 가장 많았던 지역
2. 산불이 일어난 지역의 당일 기상 상황
3. 관측소 위치를 기준으로 산불이 발생한 지점까지의 거리
4. 산불이 가장 많이 발생한 계절, 지역 등
--> 지역 먼저 선정 후 진행

5/25
Today complete list
- 데이터 정리 및 전처리 (결측치, 이상치 제거)
- 데이터 Feature 선정
- ERD 작성
- PPT 목차 정리

To do list
- EDA 계속 진행
- Streamlit 틀 작성

## index_setting
1. 실시간 산불위험지수(daily weather index, DWI) 개발
- 우리나라 강원도 지역의 기상변화에 따른 **실시간 산불위험지수**를 개발하기 위해
- 산불발생과 관련이 있는 9개 기상인자를 이용
 + 시간대별 기온(평균, 최고, 최저), 상대습도(평균, 최소), 실효습도, 풍속(평균, 최대, 순간최대) 등
2. 데이터 사용
- 기상청
 + 일 기상자료 중 강원도 14개 지점 데이터에서 위의 9개 기상인자를 기준으로 전처리 예정
  + 실효습도의 경우 컬럼에 포함되지 않음을 확인 (파생피처 생성 필요)
  + 9개 기상인자 이외의 나머지 피처들의 사용 여부 재검토 필요
 + 기상관측소 위치정보 데이터
- 산림청
 + 산불피해현황 : 발생위치, 지번정보 (+ 피해면적, 발생원인 자료 분석예정)
  + google cloud geocode 라이브러리 활용하여 위도/경도 탐색예정
 + 대형산불위험예보목록 정보 : 실효습도, 풍속, 위험등급 등 (추후 예측단계에서 사용 예정)
3. 산불발생확률 모형 개발 (데이터 활용)
- 산불발생지점과 가장 가까운 기상관측소의 해당시간대의 기상정보를 추출하여 통계분석에 활용
 + 독립변수 : 산불 발화지점을 대상으로 인근 관측소의 시간대별 기상자료
 + 종속변수 : 산불발생 유무(산불발생 1, 비발생 0)
  + 로지스틱 회귀분석 실시 (기상변화에 따라 산불발생 가능성 추정)
4. 사후검정 실시
- 시계열 기상인자(2013~2023년 예정) 를 추정모형에 대입하여 산불발생확률을 계산
 + 과거 강원도 지역 산불발생확률 예측치 계산
5. 산불위험지수 산정
- 산불발생확률 모형에 대입하여 얻어진 최종 예측치 이용하여 등급화
